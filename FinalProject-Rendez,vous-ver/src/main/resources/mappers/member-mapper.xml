<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC
"-//myvatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="memberMapper">
	<resultMap type="Member" id="memberResultSet">
		<result property="user_no" column="USER_NO"/>
		<result property="user_id" column="USER_ID"/>
		<result property="user_pwd" column="USER_PWD"/>
		<result property="user_name" column="USER_NAME"/>
		<result property="gender" column="GENDER"/>
		<result property="age" column="AGE"/>
		<result property="phone" column="PHONE"/>
		<result property="address" column="ADDRESS"/>
		<result property="photo" column="PHOTO"/>
		<result property="upphoto" column="UPPHOTO"/>
		<result property="enroll_date" column="ENROLL_DATE"/>
		<result property="update_date" column="UPDATE_DATE"/>
		<result property="user_type" column="USER_TYPE"/>
		<result property="u_status" column="U_STATUS"/>
	</resultMap>
	
	<select id="selectOne" resultType="member" parameterType="member">
		SELECT *
		FROM MEMBER
		WHERE USER_ID = #{user_id}
		AND USER_PWD = #{user_pwd}
	</select>
	
	<insert id="insertMember" parameterType="Member">
		INSERT INTO
		MEMBER 
		VALUES (SEQ_MNO.NEXTVAL, #{user_id}, #{user_pwd}, #{user_name}, #{gender}, #{age}, #{phone}, #{address}, #{photo}, #{upphoto}, SYSDATE, SYSDATE, DEFAULT, DEFAULT)
	</insert>
	
	<select id="idCheck" parameterType="string" resultType="_int">
		SELECT COUNT(*)
		FROM MEMBER
		WHERE USER_ID=#{user_id}
	</select>
	
	<update id="deleteMember" parameterType="Member">
		UPDATE MEMBER
		SET M_STATUS = 'N'
		WHERE ID = #{id}
	</update>
	
	
	<update id="updateMember" parameterType="Member">
		UPDATE MEMBER
		SET USER_PWD = #{user_pwd},
			UESR_NAME = #{user_name},
			GENDER = #{gender},
			AGE = #{age},
			PHONE = #{phone},
			ADDRESS = #{address},
			PHOTO = #{photo},
			UPPHOTO = #{upphoto},
			UPDATE_DATE = #{update_date}
	</update>
</mapper>